class Solution {
public:
    bool hasCycle(ListNode *head) {
        if (!head) return false;
        ListNode *p1 = head->next, *p2 = head;
        while (p1 && p2) {
            if (p1 == p2) break;
            if (p1->next) p1 = p1->next->next;
            else p1 = p1->next;
            p2 = p2->next;
        } 
        if (p1 && p2) return true;
        else return false;
    }
};
